title: 树莓派折腾之旅（一）
categories: 树莓派
date: 2015-06-06
tags: 树莓派
---

###### 买了一星期的树莓派今天终于有时间折腾了。
 
###### 早上一大早就起来，弄了一天。嘿嘿！

###### 昨天把系统下载下来了。

###### 树莓派官方 Raspbian 系统下载：[http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads) 

首先开始烧系统到内存卡。用win32disk imager



<!--more-->


官网下载地址 [http://sourceforge.net/projects/win32diskimager/](http://sourceforge.net/projects/win32diskimager/)

![](http://imglf0.ph.126.net/uaBktU2DB37gHaRr8Zqs7w==/6630829171676724435.jpg)

然后就到上图所示的界面了。

点击`write`就开始烧写到内存卡了。

我开始还很二逼的点了`read`，苦苦的等了十几分钟发现内存卡还是空的，我的内心几乎是崩溃的。

记得一定要点`write`哦！

烧写完成，把内存卡插到树莓派上面。

插上网线，通电。

通过路由器查看raspberry设备的ip地址，然后ssh登上raspberry。

因为树莓派默认开启了ssh，所以可以直接连上哦！

默认账号和密码分别是：`pi`和`raspberry` 

接着可以把root权限打开

    sudo passwd root

输入2次密码就行了。

然后进入如下界面：

第一次用 root 登录，会自动弹出树莓派的高级设置面板（以后也可以通过 `raspi-config` 命令进入）：

![](http://imglf1.ph.126.net/vGsx9c9n3n4o8LNBnvAzwQ==/6630619164955821229.jpg)

选择第一项 `Expand Filesystem` 扩展 SD 卡上可用的空间，不然以后会有很多大软件，不能安装（提示空间不足，例如 mysql）。 
扩展之后可以通过 `df -h` 命令看到效果~

第二项是修改密码。


![](http://imglf1.ph.126.net/YXUYDk6Ycyt4_QVifKwFcg==/6630867654583694509.jpg)

第五项是开启摄像头。可以自己都试一试。

然后最好更改一下软件源，因为在国内毕竟要快一些。

树莓派官方有提供一个镜像列表：[http://www.raspbian.org/RaspbianMirrors](http://www.raspbian.org/RaspbianMirrors)  里面有很多中国的镜像。

然后 `vi /etc/apt/sources.list`

改为

    deb http://mirrors.ustc.edu.cn/raspbian/raspbian/ wheezy main contrib non-free rpi
    
    deb-src http://mirrors.ustc.edu.cn/raspbian/raspbian/ wheezy main contrib non-free rpi

按下ESC键，再按下wq  回车，就保存退出了。

下面`apt-get update`一下吧。

![](http://imglf1.ph.126.net/ZcSUFGPHOZ3BchkYanQRjA==/6630282714397345666.jpg)


然后我觉得网线连着不方便，所以就配置了无线网卡。

    vi /etc/network/interfaces

修改下面的代码，自行配制连上你的路由器。

    iface wlan0 inet static

    wpa-ssid Your_Wifi_SSID

    wpa-psk Your_Wifi_Password

    address 192.168.1.200 # 设定的静态IP地址
    
    netmask 255.255.255.0 # 网络掩码
    
    gateway 192.168.1.1   # 网关
    
    network 192.168.1.1   # 网络地址

    #wpa-roam /etc/wpa_supplicant/wpa_supplicant.conf

然后拔掉网线，重启restart，开机就是无线上网了。很高兴是吧。

后面我又安装了lamp

步骤如下：

搭建lamp环境，`apt-get install apache2 mysql-server php5`

修改apache2权限，`chmod 777 /var/www/`

安装phpmyadmin,`apt-get intstall phpmyadmin`

选apache2 

链接到apache2目录，`ln -s /usr/share/phpmyadmin /var/www/`

在浏览器访问树莓派ip地址检查是否成功。并检查phpmyadmin可以进否。

下面我开始研究GPIO口的配置。说出来又是一把心酸一把泪。

![](http://imglf0.ph.126.net/d4xawoSjs6x4LCvm75neOw==/6630780793165104597.jpg)
上面是GPIO口的分布。

我在网上找了一下python的程序。

先要安装RPi.GPIO

[http://sourceforge.net/projects/raspberry-gpio-python/](http://sourceforge.net/projects/raspberry-gpio-python/)

从这上面下载

然后我是通过winscp把文件复制到板子里面去的。

后来发现`sudo apt-get install python-rpi.gpio`这个命令也可以安装

安装成功以后运行python

输入

    import RPi.GPIO as GPIO  

注意RPi  i是小写的，白天就找了半天的错误。

没有错误的话就说明安装成功了。

然后就可以写个简单的程序。点亮一个流水灯。

开始在网上找的程序都不能用，我也恨郁闷啊。

因为

    GPIO.setmode(GPIO.BOARD)

这句话报错。

后来想一想还是靠自己，于是我用python help  对RPi.GPIO的用法进行查看，发现这个函数都没有了。可能是因为硬件的更新吧。

于是我就注释了这条代码。

发现下面还有几条不能用。

这是多么的纠结啊。

所以我又继续改。

最后

    GPIO.setup(11, GPIO.OUT)  
    
    while True:  
    
    	GPIO.output(11, 1)  
    
    	time.sleep(1)  
    
    	GPIO.output(11, 0)  
    
    	time.sleep(1)

这样写就没问题了，接在板子上的led灯也一秒一秒的闪烁了。

真是喜大普奔啊。啊哈哈~~~！

好吧就先写到这里。

其实我下午还弄了摄像头监控。

但是效果不太好。晚上如果还有时间的话我就继续写。

先吃个饭洗个澡去啦。

啦啦啦！！~



